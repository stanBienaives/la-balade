
//function clickButton() {
    //map.featureLayer.eachLayer(function(marker) {
        //// You can replace this test for anything else, to choose the right
        //// marker on which to open a popup. by default, popups are exclusive
        //// so opening a new one will close all of the others.
        //if (marker.feature.properties.title === 'Capital Pride Parade') {
            //marker.openPopup();
        //}
    //});
//}
//var layer = L.mapbox.featureLayer(mapName);

//layer.on('click', function ( e ){
   //console.log('clicked');
   //console.log( e.layer.feature );
//});

//var markers = map.markerLayer.getLayers().map(function(marker) { return marker; })


//console.log( markers );


//markers.forEach( function ( m ){
   //m.on('click', function ( ){
      //console.log('clicked');
      //console.log( this.feature );
   //});
//});



//.setView([40.82,-73.9],11);


   //$scope.$watch('photos', function ( photos, old ){

      //if ( $scope.layer ) {
         //$scope.layer.clearLayers();
      //}
      //if( photos ) {
         //var geoJson = photos.map(function ( photo ){
            //return {
               //type: 'Feature',
               //geometry: {
                  //type: 'Point',
                  //coordinates: [photo.location.lon,photo.location.lat]
               //},
               //properties: {
                  ////title: 'Peregrine Espresso',
                  //description: "<img height='270px' src='"+ photo.url +"'>",
                  //// one can customize markers by adding simplestyle properties
                  //// https://www.mapbox.com/foundations/an-open-platform/#simplestyle
                  ////'marker-size': 'large',

                  //title: photo.user.full_name,
                  //image: photo.url,
                  //url: photo.url,
                  //'marker-color': '#BE9A6B',
                  //'marker-symbol': 'camera'
               //}
            //}
         //});

         //$scope.layer =  L.mapbox.markerLayer(geoJson).addTo($scope.map);
         //$scope.layer.on('click',function ( e ){
            //console.log(e.layer.feature.properties.url);
            //console.log( $scope );
            //$scope.shownImageUrl = e.layer.feature.properties.url;
            //$scope.$apply();
         //});
      //}
   //});
//}]);

